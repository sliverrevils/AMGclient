
import { useEffect } from 'react';
import styles from './loader.module.scss';

export default function Loader({ loading=false,message='Загрузка...' }) {

    useEffect(()=>{
        document.body.style.overflow=loading?'hidden':'auto';
        return ()=>{document.body.style.overflow='auto'}
    },[loading])

    return (
        <div className={styles[`loading_${loading}`]}>
            <div className={styles.iconWrap}>
                <svg width="127.11" height="166.35" xmlns="http://www.w3.org/2000/svg" className="app-logo">

                    <g>
                        <title>background</title>
                        <rect fill="none" id="canvas_background" height="168.35" width="129.11" y="-1" x="-1" />
                    </g>
                    <g>
                        <title>Layer 1</title>
                        <g id="svg_1">
                            <g id="svg_25">
                                <path id="svg_26" fill="#f1511b" d="m100.07,12.973l-36.36,0c-3.5813,0 -6.484,-2.9067 -6.484,-6.4933c0,-3.5733 2.9027,-6.48 6.484,-6.48l36.36,0c3.58,0 6.4827,2.9067 6.4827,6.48c0,3.5867 -2.9027,6.4933 -6.4827,6.4933" />
                                <path id="svg_29" fill="#f1511b" d="m63.408,166.35c-34.964,0 -63.408,-27.068 -63.408,-60.339c0,-13.509 6.332,-29.633 19.927,-50.743c1.9387,-3.0093 5.9533,-3.8787 8.96,-1.94c3.0093,1.9373 3.8787,5.9493 1.94,8.9587c-12.019,18.664 -17.861,32.967 -17.861,43.724c0,26.123 22.628,47.375 50.443,47.375c27.813,0 50.44,-21.252 50.44,-47.375c0,-21.929 -23.605,-53.08 -42.575,-78.109c-2.7187,-3.5867 -5.3507,-7.0667 -7.848,-10.413c-2.828,3.84 -5.712,7.68 -8.86,11.867l-4.7413,6.32c-2.1427,2.8707 -6.2107,3.4573 -9.0733,1.3067c-2.868,-2.1467 -3.4533,-6.2 -1.3067,-9.0667l4.752,-6.3467c5.0547,-6.7333 9.4213,-12.547 13.939,-18.867c1.2173,-1.6933 3.1813,-2.7067 5.2733,-2.7067s4.056,1.0133 5.272,2.7067c3.844,5.3867 8.256,11.2 12.927,17.373c21.191,27.956 45.208,59.649 45.208,85.936c0,33.271 -28.445,60.339 -63.407,60.339" />
                            </g>
                        </g>
                    </g>
                </svg>

                <svg width="83" height="83" xmlns="http://www.w3.org/2000/svg" className={styles[`mechLoading_${loading}`]} style={{left:30,bottom:35}}>

                    <g>                       
                        <path id="svg_27" fill="#fff" d="m42.408,55.85c-7.4667,0 -13.519,-6.052 -13.519,-13.519c0,-7.4653 6.052,-13.517 13.519,-13.517c7.4653,0 13.517,6.052 13.517,13.517c0,7.4667 -6.052,13.519 -13.517,13.519" />
                        <path id="svg_28" fill="#fff" d="m25.856,57.22c8.2213,9.14 22.295,9.8867 31.436,1.6653c9.1413,-8.22 9.8867,-22.295 1.6667,-31.435c-8.2213,-9.1413 -22.296,-9.8867 -31.436,-1.6667c-9.1413,8.2213 -9.8867,22.295 -1.6667,31.436l0,0.0004zm-2.0093,-47.684l2.656,2.952c3.0267,-1.616 6.2387,-2.736 9.5213,-3.364l0.20933,-3.9667c0.13733,-2.568 2.3493,-4.5573 4.9173,-4.4213l6.9027,0.36533c2.568,0.136 4.5587,2.3493 4.4227,4.9173l-0.21067,3.9667c3.1973,0.97067 6.2733,2.424 9.1133,4.352l2.952,-2.656c1.912,-1.72 4.884,-1.5613 6.604,0.35067l4.6213,5.1387c1.72,1.9133 1.5627,4.884 -0.34933,6.604l-2.952,2.656c1.616,3.0267 2.736,6.2387 3.364,9.5213l3.9653,0.20933c2.5693,0.136 4.5587,2.3493 4.4227,4.9173l-0.36533,6.9027c-0.13733,2.568 -2.3493,4.5587 -4.9173,4.4227l-3.9667,-0.21066c-0.97067,3.1973 -2.424,6.2733 -4.352,9.1133l2.656,2.952c1.7187,1.912 1.5613,4.884 -0.35067,6.6027l-5.14,4.6227c-1.912,1.72 -4.884,1.5627 -6.6027,-0.34933l-2.656,-2.952c-3.0267,1.616 -6.2387,2.736 -9.5213,3.364l-0.21067,3.9653c-0.136,2.568 -2.348,4.5587 -4.916,4.4227l-6.9027,-0.36667c-2.5693,-0.136 -4.5587,-2.348 -4.4227,-4.916l0.21067,-3.9667c-3.1973,-0.97067 -6.2733,-2.424 -9.1133,-4.352l-2.952,2.656c-1.912,1.7187 -4.884,1.5613 -6.604,-0.35067l-4.6213,-5.14c-1.72,-1.912 -1.5627,-4.884 0.34933,-6.604l2.952,-2.6547c-1.616,-3.0267 -2.736,-6.2387 -3.364,-9.5213l-3.9653,-0.21067c-2.5693,-0.136 -4.5587,-2.348 -4.4227,-4.916l0.36533,-6.9027c0.13733,-2.5693 2.3493,-4.5587 4.9173,-4.4227l3.9667,0.21067c0.97067,-3.1987 2.424,-6.2733 4.352,-9.1133l-2.656,-2.952c-1.7187,-1.912 -1.5613,-4.884 0.35067,-6.604l5.14,-4.6213c1.912,-1.72 4.8827,-1.5627 6.6027,0.34933" />

                    </g>
                </svg>

                <div className={styles.message}>{message}</div>

            </div>

        </div>
    )
}